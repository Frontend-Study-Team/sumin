# 4장 - 변수

## 4.1 변수란 무엇인가? 왜 필요한가?

> 변수: 하나의 값을 저장하기 위해 확보한 메모리 공간 자체 또는 그 메모리 공간을 식별하기 위해 붙인 이름 <br>
> 값이 저장된 메모리 공간에 붙인 상징적인 이름

- 할당: 변수에 값을 저장한는 것 (대입, 저장)
- 참조: 변수에 저장된 값을 읽어 들이는 것

### 문제

- 메모리 주소를 통해 값에 직접 접근하는 것은 치명적 오류를 발생시킬 가능성이 높음
  <br>
  (직접적인 메모리 제어 허용 ❌)
- 메모리 제어를 허용하더라도 코드를 실행할 때 마다 값이 저장될 메모리 주소는 변경됨

### 해결 → 변수 사용

- 변수는 프로그래밍 언어의 컴파일러 또는 인터프리터에 의해 값이 저장된 메모리 공간의 주소로 치환되어 실행됨
- 변수를 사용하면 프로그래밍 직접 메모리 주소를 통해 값을 저장하고 참조할 필요 없이 안전하게 값에 접근 가능

<br>

## 4.2 식별자

> 식별자: 어떤 값을 구별해서 식별할 수 있는 고유한 이름 (메모리 주소에 붙인 이름)

- 식별자는 값이 아니라 메모리의 주소를 기억
- 식별자로 값을 구별해서 식별한다 → <br>
  식별자가 기억하고 있는 메모리 주소를 통해 메모리 공간에 저장된 값에 접근 가능

<br>

## 4.3 변수 선언

> 변수 선언: 변수를 생성하는 것 <br>

- 값을 저장하기 위한 메모리 공간을 확보하고 변수 이름과 확보된 메모리 공간의 주소를 연결해서 값을 저장할 수 있게 준비
- 변수를 선언할 떄는 `var, let, const` 키워드 사용
  - var 의 단점
    - 블록 레벨 스코프를 지원 ❌ 함수 레벨 스코프를 지원 ⭕️ <br>
      → 의도치 않게 전역 변수가 선언됨 <br>
      → 권장 ❌ <br>
- 변수 선언 이후 변수에 값을 할당하지 않으면 `undefined`라는 값이 암묵적으로 할당 되어 초기화 됨
  - 변수 선언 단계 (동시 진행)
    - 선언 단계: 변수 이름을 등록해서 자바스크립트 엔진에 변수의 존재를 알린다.
    - 초기화 단계: 값을 저장하기 위한 메모리 공간을 확보하고 암묵적으로 `undefined`를 할당해 초기화한다.
- 변수 이름을 비롯한 모든 식별자는 실행 컨텍스트에 등록
  - 실행 컨텍스트: 자바스크립트 엔진이 소스코드를 평가하고 실행하기 위해 필요한 환경을 제공하고 코드의 실행 결과를 실제로 관리하는 영역 (식별자와 스코프 관리)
- 변수 선언에서 초기화 단계를 거치지 않으면 확보된 메모리 공간에 이전에 사용했던 값이 남아있을 수 있음 (쓰레기값) <br>
  → `var` 키워드는 암묵적으로 초기화를 수행하므로 이러한 위험으로부터 안전

<br>

## 4.4 변수 선언의 실행 시점과 변수 호이스팅

> 변수 선언은 런타임(runTime)이 아니라 그 이전단계에서 먼저 실행됨 <br>
> 변수 호이스팅: 변수 선언문이 코드의 선두로 끌어 올려진 것처럼 동작

- 자바스크립트 엔진은 변수 선언이 소스코드의 어디에 있든 상관없이 다른 코드보다 먼저 실행 <br>
  → 어디서든지 변수 참조 가능

<br>

## 4.5 값의 할당

```js
console.log(score) // undefined

var score // 변수 선언: 런타임 이전에 실행
score = 80 // 값의 할당: 런타임에 실행

console.log(score) // 80
```

❗️ 변수에 값을 할당할 때는 이전 값 `undefined`가 저장되어있던 메모리 공간을 지우고 그 메모리 공간에 할당 값 80을 새롭게 저장하는 것이 아니라 새로운 메모리 공간을 확보하고 그곳에 할당 값 80을 저장

<br>

## 4.6 값의 재할당

> 재할당: 이미 값이 할당되어 있는 변수에 새로운 값을 또다시 할당하는 것 <br>
> 현재 변수에 저장된 값을 버리고 새로운 값을 저장

- `var` 키워드로 선언한 변수는 값을 재할당 할 수 있음
- 변수(`var`, `let`): 저장된 값을 다른 값으로 변경 ⭕️
- 상수(`const`): 저장된 값을 변경 ❌

```js
var score = 80 // 변수 선언과 값의 할당
score = 90 // 값의 재할당
```

❗️ 이전 값 80이 저장되어 있던 메모리 공간을 지우고 그 메모리 공간에 90을 저장하는 것이 아니라 새로운 메모리 공간을 확보하고 90 저장

❗️ 80, `undefined`는 가비지 콜렉터에 의해 메모리에서 자동 해제

- 가비지 콜렉터: 애플리 케이션이 할당한 메모리 공간을 주기적으로 검사하여 더 이상 사용되지 않는 메로리를 해제하는 기능 (어떤 식별자도 참조하지 않는 메모리 공간) <br>
  → 메모리 누수 방지

<br>

## 4.7 식별자 네이밍 규칙

- 식별자는 특수문자를 제외한 문자, 숫자, 언더스코어(\_), 달러 기호($)를 포함할 수 있다.
- 식별자는 특수문자를 제외한 문자, 언더스코어(\_), 달러 기호($)로 시작해야한다. (숫자 ❌)
- 예약어(ex. `await`, `case`, `try` 등)는 식별자로 사용 ❌

### 네이밍 컨벤션

```js
var firstName // camelCase 변수, 함수
var first_name // snake_case
var FirstName // PascakCase 생성자함수, 클래스
var strFirstName // typeHugarianCase
```
